webpackJsonp([1],{"9bXg":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("G0J2"),a=i.n(s),o=i("hnaQ"),l={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var c=i("VU/8")({name:"App"},l,!1,function(t){i("z/Ub")},null,null).exports,r=i("/ocq"),u=i("Gu7T"),d=i.n(u),m=window.firebase.firestore(),p={name:"home",data:function(){return{content:"",editorOption:{modules:{toolbar:[["bold","italic","underline"],[{indent:"-1"},{indent:"+1"}],[{align:[]}],[{list:"bullet"}],[{color:[]},{background:[]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["clean"],["link","image","video"]]},placeholder:"請寫下內容",theme:"snow"},memo:[],selected:null,additional:null,itemList:{isOpen:!1,display:"card"},onlyImportant:!1,mode:"sun",newTag:""}},firestore:{memo:m.collection("NOTE")},methods:{edit:function(t){this.selected=this.selected===t?null:t,this.content=null!==this.selected?this.memo[this.selected].text:""},convertor:function(t){return t<10?"memo00"+String(t):t<100?"memo0"+String(t):"memo"+String(t)},addMemo:function(){var t=this,e=0!==this.memo.length?this.convertor(Number(this.memo[this.memo.length-1].id.substr(4,3))+1):"memo001";m.collection("NOTE").doc(e).set({text:"",isImportant:!1,date:Number(new Date),tag:[]}).then(function(){t.edit(t.memo.length-1)})},onEditorBlur:function(){null!==this.selected&&m.collection("NOTE").doc(this.memo[this.selected].id).update({text:this.content})},changeDisplay:function(t){this.itemList.display=t,this.itemList.isOpen=!1},addTag:function(){var t=this;if(null!==this.selected){var e=[].concat(d()(this.memo[this.selected].tag));e.push(this.newTag),m.collection("NOTE").doc(this.memo[this.selected].id).update({tag:e}).then(function(){t.newTag=""})}},removeTag:function(t){var e=[].concat(d()(this.memo[this.selected].tag));e.splice(t,1),m.collection("NOTE").doc(this.memo[this.selected].id).update({tag:e})},addStar:function(t,e){var i=this;m.collection("NOTE").doc(e).update({isImportant:!this.memo[t].isImportant}).then(function(){i.additional=null})},removeMemo:function(t){var e=this;m.collection("NOTE").doc(t).delete().then(function(){e.additional=null})}},filters:{title:function(t){return String(t.split("<br>",1))},text:function(t){var e=t.split("<br>");return e.splice(0,1),String(e)},replaceHTML:function(t){return t.replace(/<[^>]+>/g,"").replace(/&nbsp;/gi,"")},timeDisplay:function(t){var e=new Date(t);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}},computed:{memoFilter:function(){return!0===this.onlyImportant?this.memo.slice().filter(function(t){return!0===t.isImportant}):this.memo}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"nav",class:{moon:"moon"===t.mode}},[t._m(0),t._v(" "),i("button",{staticClass:"addpen",on:{click:t.addMemo}},[i("i"),t._v("新增筆記")]),t._v(" "),i("ul",[i("li",{staticClass:"allpen",on:{click:function(e){t.onlyImportant=!1}}},[i("i"),t._v("所有筆記")]),t._v(" "),i("li",{staticClass:"path",on:{click:function(e){t.onlyImportant=!0}}},[i("i"),t._v("捷徑")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),i("li",{staticClass:"mode"},[t._v("模式\n        "),i("i",{staticClass:"sun",on:{click:function(e){t.mode="sun"}}}),t._v(" "),i("i",{staticClass:"moon",on:{click:function(e){t.mode="moon"}}})]),t._v(" "),t._m(5)])]),t._v(" "),i("div",{staticClass:"list",class:{moon:"moon"===t.mode},on:{click:function(e){return t.edit(t.selected)}}},[i("label",{attrs:{for:"search"}}),t._v(" "),i("input",{attrs:{type:"text",id:"search",placeholder:"搜尋您的筆記"}}),t._v(" "),i("h2",[t._v(t._s(!1===t.onlyImportant?"所有筆記":"捷徑"))]),t._v(" "),i("i",{staticClass:"more"}),t._v(" "),i("i",{staticClass:"display",class:{block:"block"===t.itemList.display,onlyTitle:"onlyTitle"===t.itemList.display},on:{click:function(e){t.itemList.isOpen=!t.itemList.isOpen}}}),t._v(" "),t.itemList.isOpen?i("ul",{staticClass:"displayBox"},[i("li",{on:{click:function(e){return t.changeDisplay("card")}}},[i("i",{staticClass:"card"}),t._v("卡片檢視")]),t._v(" "),i("li",{on:{click:function(e){return t.changeDisplay("block")}}},[i("i",{staticClass:"block"}),t._v("摘要檢視")]),t._v(" "),i("li",{on:{click:function(e){return t.changeDisplay("onlyTitle")}}},[i("i",{staticClass:"onlyTitle"}),t._v("文字列表檢視")])]):t._e(),t._v(" "),i("ul",{staticClass:"itemList",class:{block:"block"===t.itemList.display,onlyTitle:"onlyTitle"===t.itemList.display}},t._l(t.memoFilter,function(e,n){return i("li",{key:n,class:{selected:n===t.selected},on:{click:function(e){return e.stopPropagation(),t.edit(n)}}},[i("i",{staticClass:"angle",on:{click:function(e){e.stopPropagation(),t.additional=t.additional===n?null:n}}}),t._v(" "),n===t.additional?i("ul",{staticClass:"additionalBox"},[i("li",{on:{click:function(i){return i.stopPropagation(),t.addStar(n,e.id)}}},[i("i",{staticClass:"importantIcon"}),t._v("標記")]),t._v(" "),i("li",{on:{click:function(i){return i.stopPropagation(),t.removeMemo(e.id)}}},[i("i",{staticClass:"delete"}),t._v("刪除")])]):t._e(),t._v(" "),i("h3",{staticClass:"title"},[e.isImportant?i("i",{staticClass:"star"}):t._e(),t._v("\n          "+t._s(t._f("replaceHTML")(t._f("title")(e.text)))+"\n        ")]),t._v(" "),i("p",{staticClass:"text"},[t._v(t._s(t._f("replaceHTML")(t._f("text")(e.text))))]),t._v(" "),0!==e.tag.length?i("h4",{staticClass:"tag"},[t._v(t._s(e.tag[0]))]):t._e(),t._v(" "),i("span",{staticClass:"date"},[e.text.includes("href")?i("i",{staticClass:"attachment"}):t._e(),t._v("\n          "+t._s(t._f("timeDisplay")(e.date))+"\n        ")])])}),0)]),t._v(" "),i("div",{staticClass:"content",class:{moon:"moon"===t.mode}},[i("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.newTag,expression:"newTag"}],attrs:{type:"text",placeholder:"Add + "},domProps:{value:t.newTag},on:{keypress:function(e){return e.type.indexOf("key")||13===e.keyCode?(e.stopPropagation(),e.preventDefault(),t.addTag(e)):null},input:function(e){e.target.composing||(t.newTag=e.target.value)}}}),t._v(" "),null!==t.selected&&t.memo[t.selected]?i("ul",{staticClass:"tagWrap"},t._l(t.memo[t.selected].tag,function(e,n){return i("li",{key:n},[i("button",[t._v(t._s(e)+"\n          "),i("i",{on:{click:function(e){return t.removeTag(n)}}},[t._v("x")])])])}),0):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"logo"},[this._v("FreeNote"),e("i",[this._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"tag"},[e("i"),this._v("標籤")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"calendar"},[e("i"),this._v("月曆")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"share"},[e("i"),this._v("與我共用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"bucket"},[e("i"),this._v("垃圾桶")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"account"},[e("i",{staticClass:"accountIcon"}),this._v("\n        Michelle\n        "),e("i",{staticClass:"more"})])}]};var v=i("VU/8")(p,_,!1,function(t){i("9bXg")},"data-v-3350f9f2",null).exports;n.a.use(r.a);var h=new r.a({routes:[{path:"/",name:"home",component:v}]});n.a.config.productionTip=!1,n.a.use(a.a),n.a.use(o.a),new n.a({el:"#app",router:h,components:{App:c},template:"<App/>"})},"z/Ub":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6b4cb6517a2cb0f85124.js.map